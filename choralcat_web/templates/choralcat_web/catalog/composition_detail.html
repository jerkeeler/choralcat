{% extends "choralcat_web/base.html" %}

{% load static %}
{% block main %}
  <!-- This example requires Tailwind CSS v2.0+ -->
  <div class="lg:flex lg:items-center lg:justify-between" x-data="{
      modalOpen: false,
      open(piece) {
        this.modalOpen = true;
        this.piece = piece;
      },
      piece: '',
    }">
    <div class="flex-1 min-w-0">
      <h2 class="text-3xl font-header leading-7 text-gray-900">
        {{ composition.title }}
      </h2>
      <div class="mt-1 flex flex-col flex-wrap mt-0 pt-2">
        {% if composition.composers.count > 0 %}
          <div class="flex items-center text-gray-500">
            <span class="font-light">Composed by: &nbsp;</span> {{ composition.composers.all|join:"; " }}
          </div>
        {% endif %}
        {% if composition.arrangers.count > 0 %}
          <div class="flex items-center text-gray-500">
            <span class="font-light">Arranged by: &nbsp;</span> {{ composition.arrangers.all|join:"; " }}
          </div>
        {% endif %}
      </div>
    </div>
    <div class="mt-5 flex lg:mt-0 lg:ml-4">
    <span class="hidden sm:block">
      <a href="{% url 'composition_edit' composition.slug %}"
         class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
        <!-- Heroicon name: solid/pencil -->
        <svg class="-ml-1 mr-2 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
             fill="currentColor" aria-hidden="true">
          <path
              d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
        </svg>
        Edit
      </a>
    </span>

      <span class="sm:ml-3">
      <button type="button"
              class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
              @click="open('{{ composition.slug }}')"
              hx-get="{% url 'catalog_modal' composition.slug %}"
              hx-target="#modalContent"
      >
        <!-- Heroicon name: solid/check -->
      <svg class="w-5 h-5 -ml-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
           xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
      </svg>
        Add
      </button>
    </span>
    </div>

    {% include "partials/program_modal/modal_base.html" %}
  </div>

{% endblock %}
